// https://d3js.org/d3-geo-projection/ Version 2.4.0. Copyright 2018 Mike Bostock.
!function(n,r){"object"==typeof exports&&"undefined"!=typeof module?r(exports,require("d3-geo"),require("d3-array")):"function"==typeof define&&define.amd?define(["exports","d3-geo","d3-array"],r):r(n.d3=n.d3||{},n.d3,n.d3)}(this,function(n,r,e){"use strict";var t=Math.abs,o=Math.atan,i=Math.atan2,u=Math.cos,a=Math.exp,c=Math.floor,f=Math.log,l=Math.max,g=Math.min,v=Math.pow,s=Math.round,p=Math.sign||function(n){return n>0?1:n<0?-1:0},h=Math.sin,d=Math.tan,y=1e-6,w=1e-12,m=Math.PI,P=m/2,R=m/4,b=Math.SQRT1_2,j=G(2),M=G(m),E=2*m,A=180/m,S=m/180;function k(n){return n>1?P:n<-1?-P:Math.asin(n)}function x(n){return n>1?0:n<-1?m:Math.acos(n)}function G(n){return n>0?Math.sqrt(n):0}function C(n){return(a(n)-a(-n))/2}function z(n){return(a(n)+a(-n))/2}function F(n){var r=d(n/2),e=2*f(u(n/2))/(r*r);function o(n,r){var t=u(n),o=u(r),i=h(r),a=o*t,c=-((1-a?f((1+a)/2)/(1-a):-.5)+e/(1+a));return[c*o*h(n),c*i]}return o.invert=function(r,o){var a,c=G(r*r+o*o),l=-n/2,g=50;if(!c)return[0,0];do{var v=l/2,s=u(v),p=h(v),w=d(v),m=f(1/s);l-=a=(2/w*m-e*w-c)/(-m/(p*p)+1-e/(2*s*s))}while(t(a)>y&&--g>0);var P=h(l);return[i(r*P,c*u(l)),k(o*P/c)]},o}function N(n,r){var e,t=u(r),o=(e=x(t*u(n/=2)))?e/Math.sin(e):1;return[2*t*h(n)*o,h(r)*o]}function L(n){var r=h(n),e=u(n),o=n>=0?1:-1,a=d(o*n),c=(1+r-e)/2;function f(n,t){var f=u(t),l=u(n/=2);return[(1+f)*h(n),(o*t>-i(l,a)-.001?0:10*-o)+c+h(t)*e-(1+f)*r*l]}return f.invert=function(n,f){var l=0,g=0,v=50;do{var s=u(l),p=h(l),d=u(g),w=h(g),m=1+d,P=m*p-n,R=c+w*e-m*r*s-f,b=m*s/2,j=-p*w,M=r*m*p/2,E=e*d+r*s*w,A=j*M-E*b,S=(R*j-P*E)/A/2,k=(P*M-R*b)/A;l-=S,g-=k}while((t(S)>y||t(k)>y)&&--v>0);return o*g>-i(u(l),a)-.001?[2*l,g]:null},f}function q(n,r){var e=d(r/2),t=G(1-e*e),o=1+t*u(n/=2),i=h(n)*t/o,a=e/o,c=i*i,f=a*a;return[4/3*i*(3+c-3*f),4/3*a*(3+3*c-f)]}N.invert=function(n,r){if(!(n*n+4*r*r>m*m+y)){var e=n,o=r,i=25;do{var a,c=h(e),f=h(e/2),l=u(e/2),g=h(o),v=u(o),s=h(2*o),p=g*g,d=v*v,w=f*f,P=1-d*l*l,R=P?x(v*l)*G(a=1/P):a=0,b=2*R*v*f-n,j=R*g-r,M=a*(d*w+R*v*l*p),E=a*(.5*c*s-2*R*g*f),A=.25*a*(s*f-R*g*d*c),S=a*(p*l+R*w*v),k=E*A-S*M;if(!k)break;var C=(j*E-b*S)/k,z=(b*A-j*M)/k;e-=C,o-=z}while((t(C)>y||t(z)>y)&&--i>0);return[e,o]}},q.invert=function(n,r){if(r*=3/8,!(n*=3/8)&&t(r)>1)return null;var e,o,a=1+n*n+r*r,c=G((a-G(a*a-4*r*r))/2),l=k(c)/3,g=c?(o=t(r/c),f(o+G(o*o-1))/3):(e=t(n),f(e+G(e*e+1))/3),v=u(l),s=z(g),d=s*s-v*v;return[2*p(n)*i(C(g)*v,.25-d),2*p(r)*i(s*h(l),.25+d)]};var B=G(8),H=f(1+j);function I(n,r){var e=t(r);return e<R?[n,f(d(R+r/2))]:[n*u(e)*(2*j-1/h(e)),p(r)*(2*j*(e-R)-f(d(e/2)))]}function W(n){var e=2*m/n;function a(n,o){var a=r.geoAzimuthalEquidistantRaw(n,o);if(t(n)>P){var c=i(a[1],a[0]),f=G(a[0]*a[0]+a[1]*a[1]),l=e*s((c-P)/e)+P,g=i(h(c-=l),2-u(c));c=l+k(m/f*h(g))-g,a[0]=f*u(c),a[1]=f*h(c)}return a}return a.invert=function(n,t){var a=G(n*n+t*t);if(a>P){var c=i(t,n),f=e*s((c-P)/e)+P,l=c>f?-1:1,g=a*u(f-c),v=1/d(l*x((g-m)/G(m*(m-2*g)+a*a)));c=f+2*o((v+l*G(v*v-3))/3),n=a*u(c),t=a*h(c)}return r.geoAzimuthalEquidistantRaw.invert(n,t)},a}function D(n,e){if(arguments.length<2&&(e=n),1===e)return r.geoAzimuthalEqualAreaRaw;if(e===1/0)return T;function t(t,o){var i=r.geoAzimuthalEqualAreaRaw(t/e,o);return i[0]*=n,i}return t.invert=function(t,o){var i=r.geoAzimuthalEqualAreaRaw.invert(t/n,o);return i[0]*=e,i},t}function T(n,r){return[n*u(r)/u(r/=2),2*h(r)]}function Q(){var n=D(1.68,2);return function(r,e){if(r+e<-1.4){var t=(r-e+1.6)*(r+e+1.4)/8;r+=t,e-=.8*t*h(e+m/2)}var o=n(r,e),i=(1-u(r*e))/12;return o[1]<0&&(o[0]*=1+i),o[1]>0&&(o[1]*=1+i/1.5*o[0]*o[0]),o}}function V(n,r){for(var e,o=n*h(r),i=30;r-=e=(r+h(r)-o)/(1+u(r)),t(e)>y&&--i>0;);return r/2}function _(n,r,e){function t(t,o){return[n*t*u(o=V(e,o)),r*h(o)]}return t.invert=function(t,o){return o=k(o/r),[t/(n*u(o)),k((2*o+h(2*o))/e)]},t}I.invert=function(n,r){if((i=t(r))<H)return[n,2*o(a(r))-P];var e,i,c=R,l=25;do{var g=u(c/2),v=d(c/2);c-=e=(B*(c-R)-f(v)-i)/(B-g*g/(2*v))}while(t(e)>w&&--l>0);return[n/(u(c)*(B-1/h(c))),p(r)*c]},T.invert=function(n,r){var e=2*k(r/2);return[n*u(e/2)/u(e),e]};var K=_(j/P,j,m);var O=2.00276,U=1.11072;function J(n,r){var e=V(m,r);return[O*n/(1/u(r)+U/u(e)),(r+j*h(e))/O]}function X(n){var e=0,t=r.geoProjectionMutator(n),o=t(e);return o.parallel=function(n){return arguments.length?t(e=n*S):e*A},o}function Y(n,r){return[n*u(r),r]}function Z(n){if(!n)return Y;var r=1/d(n);function e(e,t){var o=r+n-t,i=o?e*u(t)/o:o;return[o*h(i),r-o*u(i)]}return e.invert=function(e,t){var o=G(e*e+(t=r-t)*t),a=r+n-o;return[o/u(a)*i(e,t),a]},e}function $(n){function r(r,e){var t=P-e,o=t?r*n*h(t)/t:t;return[t*h(o)/n,P-t*u(o)]}return r.invert=function(r,e){var t=r*n,o=P-e,u=G(t*t+o*o),a=i(t,o);return[(u?u/h(u):1)*a/n,P-u]},r}J.invert=function(n,r){for(var e,o,i=O*r,a=r<0?-R:R,c=25;o=i-j*h(a),a-=e=(h(2*a)+2*a-m*h(o))/(2*u(2*a)+2+m*u(o)*j*u(a)),t(e)>y&&--c>0;);return o=i-j*h(a),[n*(1/u(o)+U/u(a))/O,o]},Y.invert=function(n,r){return[n/u(r),r]};var nn=_(1,4/m,m);function rn(n,r,e,o,a,c){var f,l=u(c);if(t(n)>1||t(c)>1)f=x(e*a+r*o*l);else{var g=h(n/2),v=h(c/2);f=2*k(G(g*g+r*o*v*v))}return t(f)>y?[f,i(o*h(c),r*a-e*o*l)]:[0,0]}function en(n,r,e){return x((n*n+r*r-e*e)/(2*n*r))}function tn(n,r,e){for(var t,o=[[n[0],n[1],h(n[1]),u(n[1])],[r[0],r[1],h(r[1]),u(r[1])],[e[0],e[1],h(e[1]),u(e[1])]],i=o[2],a=0;a<3;++a,i=t)t=o[a],i.v=rn(t[1]-i[1],i[3],i[2],t[3],t[2],t[0]-i[0]),i.point=[0,0];var f=en(o[0].v[0],o[2].v[0],o[1].v[0]),l=en(o[0].v[0],o[1].v[0],o[2].v[0]),g=m-f;o[2].point[1]=0,o[0].point[0]=-(o[1].point[0]=o[0].v[0]/2);var v=[o[2].point[0]=o[0].point[0]+o[2].v[0]*u(f),2*(o[0].point[1]=o[1].point[1]=o[2].v[0]*h(f))];return function(n,r){var e,t,i=h(r),a=u(r),f=new Array(3);for(e=0;e<3;++e){var s=o[e];if(f[e]=rn(r-s[1],s[3],s[2],a,i,n-s[0]),!f[e][0])return s.point;f[e][1]=(t=f[e][1]-s.v[1])-2*m*c((t+m)/(2*m))}var p=v.slice();for(e=0;e<3;++e){var d=2==e?0:e+1,y=en(o[e].v[0],f[e][0],f[d][0]);f[e][1]<0&&(y=-y),e?1==e?(y=l-y,p[0]-=f[e][0]*u(y),p[1]-=f[e][0]*h(y)):(y=g-y,p[0]+=f[e][0]*u(y),p[1]+=f[e][0]*h(y)):(p[0]+=f[e][0]*u(y),p[1]-=f[e][0]*h(y))}return p[0]/=3,p[1]/=3,p}}function on(n){return n[0]*=S,n[1]*=S,n}function un(n,e,t){var o=r.geoCentroid({type:"MultiPoint",coordinates:[n,e,t]}),i=[-o[0],-o[1]],u=r.geoRotation(i),a=r.geoProjection(tn(on(u(n)),on(u(e)),on(u(t)))).rotate(i),c=a.center;return delete a.rotate,a.center=function(n){return arguments.length?c(u(n)):u.invert(c())},a.clipAngle(90)}function an(n,r){var e=G(1-h(r));return[2/M*n*e,M*(1-e)]}function cn(n){var r=d(n);function e(n,e){return[n,(n?n/h(n):1)*(h(e)*u(n)-r*u(e))]}return e.invert=r?function(n,e){n&&(e*=h(n)/n);var t=u(n);return[n,2*i(G(t*t+r*r-e*e)-t,r-e)]}:function(n,r){return[n,k(n?r*d(n)/n:r)]},e}an.invert=function(n,r){var e=(e=r/M-1)*e;return[e>0?n*G(m/e)/2:0,k(1-e)]};var fn=G(3);function ln(n,r){return[fn*n*(2*u(2*r/3)-1)/M,fn*M*h(r/3)]}function gn(n){var r=u(n);function e(n,e){return[n*r,h(e)/r]}return e.invert=function(n,e){return[n/r,k(e*r)]},e}function vn(n){var r=u(n);function e(n,e){return[n*r,(1+r)*d(e/2)]}return e.invert=function(n,e){return[n/r,2*o(e/(1+r))]},e}function sn(n,r){var e=G(8/(3*m));return[e*n*(1-t(r)/m),e*r]}function pn(n,r){var e=G(4-3*h(t(r)));return[2/G(6*m)*n*e,p(r)*G(2*m/3)*(2-e)]}function hn(n,r){var e=G(m*(4+m));return[2/e*n*(1+G(1-4*r*r/(m*m))),4/e*r]}function dn(n,r){var e=(2+P)*h(r);r/=2;for(var o=0,i=1/0;o<10&&t(i)>y;o++){var a=u(r);r-=i=(r+h(r)*(a+2)-e)/(2*a*(1+a))}return[2/G(m*(4+m))*n*(1+u(r)),2*G(m/(4+m))*h(r)]}function yn(n,r){return[n*(1+u(r))/G(2+m),2*r/G(2+m)]}function wn(n,r){for(var e=(1+P)*h(r),o=0,i=1/0;o<10&&t(i)>y;o++)r-=i=(r+h(r)-e)/(1+u(r));return e=G(2+m),[n*(1+u(r))/e,2*r/e]}ln.invert=function(n,r){var e=3*k(r/(fn*M));return[M*n/(fn*(2*u(2*e/3)-1)),e]},sn.invert=function(n,r){var e=G(8/(3*m)),o=r/e;return[n/(e*(1-t(o)/m)),o]},pn.invert=function(n,r){var e=2-t(r)/G(2*m/3);return[n*G(6*m)/(2*e),p(r)*k((4-e*e)/3)]},hn.invert=function(n,r){var e=G(m*(4+m))/2;return[n*e/(1+G(1-r*r*(4+m)/(4*m))),r*e/2]},dn.invert=function(n,r){var e=r*G((4+m)/m)/2,t=k(e),o=u(t);return[n/(2/G(m*(4+m))*(1+o)),k((t+e*(o+2))/(2+P))]},yn.invert=function(n,r){var e=G(2+m),t=r*e/2;return[e*n/(1+u(t)),t]},wn.invert=function(n,r){var e=1+P,t=G(e/2);return[2*n*t/(1+u(r*=t)),k((r+h(r))/e)]};var mn=3+2*j;function Pn(n,r){var e=h(n/=2),t=u(n),i=G(u(r)),a=u(r/=2),c=h(r)/(a+j*t*i),l=G(2/(1+c*c)),g=G((j*a+(t+e)*i)/(j*a+(t-e)*i));return[mn*(l*(g-1/g)-2*f(g)),mn*(l*c*(g+1/g)-2*o(c))]}Pn.invert=function(n,r){if(!(e=q.invert(n/1.2,1.065*r)))return null;var e,i=e[0],a=e[1],c=20;n/=mn,r/=mn;do{var v=i/2,s=a/2,p=h(v),d=u(v),w=h(s),m=u(s),R=u(a),M=G(R),E=w/(m+j*d*M),A=E*E,S=G(2/(1+A)),k=(j*m+(d+p)*M)/(j*m+(d-p)*M),x=G(k),C=x-1/x,z=x+1/x,F=S*C-2*f(x)-n,N=S*E*z-2*o(E)-r,L=w&&b*M*p*A/w,B=(j*d*m+M)/(2*(m+j*d*M)*(m+j*d*M)*M),H=-.5*E*S*S*S,I=H*L,W=H*B,D=(D=2*m+j*M*(d-p))*D*x,T=(j*d*m*M+R)/D,Q=-j*p*w/(M*D),V=C*I-2*T/x+S*(T+T/k),_=C*W-2*Q/x+S*(Q+Q/k),K=E*z*I-2*L/(1+A)+S*z*L+S*E*(T-T/k),O=E*z*W-2*B/(1+A)+S*z*B+S*E*(Q-Q/k),U=_*K-O*V;if(!U)break;var J=(N*_-F*O)/U,X=(F*K-N*V)/U;i-=J,a=l(-P,g(P,a-X))}while((t(J)>y||t(X)>y)&&--c>0);return t(t(a)-P)<y?[0,a]:c&&[i,a]};var Rn=u(35*S);function bn(n,r){var e=d(r/2);return[n*Rn*G(1-e*e),(1+Rn)*e]}function jn(n,r){var e=r/2,t=u(e);return[2*n/M*u(r)*t*t,M*d(e)]}function Mn(n){return[n[0]/2,k(d(n[1]/2*S))*A]}function En(n){return[2*n[0],2*o(h(n[1]*S))*A]}function An(n,e){var o=2*m/e,a=n*n;function c(e,c){var f=r.geoAzimuthalEquidistantRaw(e,c),l=f[0],g=f[1],v=l*l+g*g;if(v>a){var p=G(v),d=i(g,l),w=o*s(d/o),R=d-w,b=n*u(R),j=(n*h(R)-R*h(b))/(P-b),M=Sn(R,j),E=(m-n)/kn(M,b,m);l=p;for(var A,S=50;l-=A=(n+kn(M,b,l)*E-p)/(M(l)*E),t(A)>y&&--S>0;);g=R*h(l),l<P&&(g-=j*(l-P));var k=h(w),x=u(w);f[0]=l*x-g*k,f[1]=l*k+g*x}return f}return c.invert=function(e,c){var f=e*e+c*c;if(f>a){var l=G(f),g=i(c,e),v=o*s(g/o),p=g-v;e=l*u(p),c=l*h(p);for(var d=e-P,y=h(e),R=c/y,b=e<P?1/0:0,j=10;;){var M=n*h(R),E=n*u(R),A=h(E),S=P-E,k=(M-R*A)/S,x=Sn(R,k);if(t(b)<w||!--j)break;R-=b=(R*y-k*d-c)/(y-2*d*(S*(E+R*M*u(E)-A)-M*(M-R*A))/(S*S))}e=(l=n+kn(x,E,e)*(m-n)/kn(x,E,m))*u(g=v+R),c=l*h(g)}return r.geoAzimuthalEquidistantRaw.invert(e,c)},c}function Sn(n,r){return function(e){var t=n*u(e);return e<P&&(t-=r),G(1+t*t)}}function kn(n,r,e){for(var t=(e-r)/50,o=n(r)+n(e),i=1,u=r;i<50;++i)o+=2*n(u+=t);return.5*o*t}function xn(n,r,e,o,i,a,c,f){function l(t,l){if(!l)return[n*t/m,0];var g=l*l,v=n+g*(r+g*(e+g*o)),s=l*(i-1+g*(a-f+g*c)),p=(v*v+s*s)/(2*s),d=t*k(v/p)/m;return[p*h(d),l*(1+g*f)+p*(1-u(d))]}return arguments.length<8&&(f=0),l.invert=function(l,g){var v,s,p=m*l/n,d=g,w=50;do{var P=d*d,R=n+P*(r+P*(e+P*o)),b=d*(i-1+P*(a-f+P*c)),j=R*R+b*b,M=2*b,E=j/M,A=E*E,S=k(R/E)/m,x=p*S,C=R*R,z=(2*r+P*(4*e+6*P*o))*d,F=i+P*(3*a+5*P*c),N=(2*(R*z+b*(F-1))*M-j*(2*(F-1)))/(M*M),L=u(x),q=h(x),B=E*L,H=E*q,I=p/m*(1/G(1-C/A))*(z*E-R*N)/A,W=H-l,D=d*(1+P*f)+E-B-g,T=N*q+B*I,Q=B*S,V=1+N-(N*L-H*I),_=H*S,K=T*_-V*Q;if(!K)break;p-=v=(D*T-W*V)/K,d-=s=(W*_-D*Q)/K}while((t(v)>y||t(s)>y)&&--w>0);return[p,d]},l}bn.invert=function(n,r){var e=r/(1+Rn);return[n&&n/(Rn*G(1-e*e)),2*o(e)]},jn.invert=function(n,r){var e=o(r/M),t=u(e),i=2*e;return[n*M/2/(u(i)*t*t),i]};var Gn=xn(2.8284,-1.6988,.75432,-.18071,1.76003,-.38914,.042555);var Cn=xn(2.583819,-.835827,.170354,-.038094,1.543313,-.411435,.082742);var zn=xn(5/6*m,-.62636,-.0344,0,1.3493,-.05524,0,.045);function Fn(n,r){var e=n*n,t=r*r;return[n*(1-.162388*t)*(.87-952426e-9*e*e),r*(1+t/12)]}Fn.invert=function(n,r){var e,o=n,i=r,u=50;do{var a=i*i;i-=e=(i*(1+a/12)-r)/(1+a/4)}while(t(e)>y&&--u>0);u=50,n/=1-.162388*a;do{var c=(c=o*o)*c;o-=e=(o*(.87-952426e-9*c)-n)/(.87-.00476213*c)}while(t(e)>y&&--u>0);return[o,i]};var Nn=xn(2.6516,-.76534,.19123,-.047094,1.36289,-.13965,.031762);function Ln(n){var r=n(P,0)[0]-n(-P,0)[0];function e(e,t){var o=e>0?-.5:.5,i=n(e+o*m,t);return i[0]-=o*r,i}return n.invert&&(e.invert=function(e,t){var o=e>0?-.5:.5,i=n.invert(e+o*r,t),u=i[0]-o*m;return u<-m?u+=2*m:u>m&&(u-=2*m),i[0]=u,i}),e}function qn(n,r){var e=p(n),o=p(r),a=u(r),c=u(n)*a,f=h(n)*a,l=h(o*r);n=t(i(f,l)),r=k(c),t(n-P)>y&&(n%=P);var g=function(n,r){if(r===P)return[0,0];var e,o,i=h(r),a=i*i,c=a*a,f=1+c,l=1+3*c,g=1-c,v=k(1/G(f)),s=g+a*f*v,p=(1-i)/s,d=G(p),w=p*f,R=G(w),b=d*g;if(0===n)return[0,-(b+a*R)];var j,M=u(r),E=1/M,A=2*i*M,S=(-s*M-(-3*a+v*l)*A*(1-i))/(s*s),x=-E*A,C=-E*(a*f*S+p*l*A),z=-2*E*(g*(.5*S/d)-2*a*d*A),F=4*n/m;if(n>.222*m||r<m/4&&n>.175*m){if(e=(b+a*G(w*(1+c)-b*b))/(1+c),n>m/4)return[e,e];var N=e,L=.5*e;e=.5*(L+N),o=50;do{var q=G(w-e*e),B=e*(z+x*q)+C*k(e/R)-F;if(!B)break;B<0?L=e:N=e,e=.5*(L+N)}while(t(N-L)>y&&--o>0)}else{e=y,o=25;do{var H=e*e,I=G(w-H),W=z+x*I,D=e*W+C*k(e/R)-F,T=W+(C-x*H)/I;e-=j=I?D/T:0}while(t(j)>y&&--o>0)}return[e,-b-a*G(w-e*e)]}(n>m/4?P-n:n,r);return n>m/4&&(l=g[0],g[0]=-g[1],g[1]=-l),g[0]*=e,g[1]*=-o,g}function Bn(n,r){var e,i,c,f,l,g;if(r<y)return[(f=h(n))-(e=r*(n-f*(i=u(n)))/4)*i,i+e*f,1-r*f*f/2,n-e];if(r>=1-y)return e=(1-r)/4,c=1/(i=z(n)),[(f=((g=a(2*(g=n)))-1)/(g+1))+e*((l=i*C(n))-n)/(i*i),c-e*f*c*(l-n),c+e*f*c*(l+n),2*o(a(n))-P+e*(l-n)/i];var v=[1,0,0,0,0,0,0,0,0],s=[G(r),0,0,0,0,0,0,0,0],p=0;for(i=G(1-r),l=1;t(s[p]/v[p])>y&&p<8;)e=v[p++],s[p]=(e-i)/2,v[p]=(e+i)/2,i=G(e*i),l*=2;for(c=l*v[p]*n;c=(k(f=s[p]*h(i=c)/v[p])+c)/2,--p;);return[h(c),f=u(c),f/u(c-i),c]}function Hn(n,r){if(!r)return n;if(1===r)return f(d(n/2+R));for(var e=1,i=G(1-r),u=G(r),a=0;t(u)>y;a++){if(n%m){var c=o(i*d(n)/e);c<0&&(c+=m),n+=c+~~(n/m)*m}else n+=n;u=(e+i)/2,i=G(e*i),u=((e=u)-i)/2}return n/(v(2,a)*e)}function In(n,r){var e,c,l,g,v,s=(j-1)/(j+1),y=G(1-s*s),w=Hn(P,y*y),R=f(d(m/4+t(r)/2)),b=a(-1*R)/G(s),M=(e=b*u(-1*n),c=b*h(-1*n),g=c+1,[.5*((e>=0?P:-P)-i(v=1-(l=e*e)-c*c,2*e)),-.25*f(v*v+4*l)+.5*f(g*g+l)]),E=function(n,r,e){var i=t(n),u=C(t(r));if(i){var a=1/h(i),c=1/(d(i)*d(i)),f=-(c+e*(u*u*a*a)-1+e),l=(-f+G(f*f-(e-1)*c*4))/2;return[Hn(o(1/G(l)),e)*p(n),Hn(o(G((l/c-1)/e)),1-e)*p(r)]}return[0,Hn(o(u),1-e)*p(r)]}(M[0],M[1],y*y);return[-E[1],(r>=0?1:-1)*(.5*w-E[0])]}function Wn(n){var r=h(n),e=u(n),o=Dn(n);function a(n,i){var a=o(n,i);n=a[0],i=a[1];var c=h(i),f=u(i),l=u(n),g=x(r*c+e*f*l),v=h(g),s=t(v)>y?g/v:1;return[s*e*h(n),(t(n)>P?s:-s)*(r*f-e*c*l)]}return o.invert=Dn(-n),a.invert=function(n,e){var t=G(n*n+e*e),a=-h(t),c=u(t),f=t*c,l=-e*a,g=t*r,v=G(f*f+l*l-g*g),s=i(f*g+l*v,l*g-f*v),p=(t>P?-1:1)*i(n*a,t*u(s)*c+e*h(s)*a);return o.invert(p,s)},a}function Dn(n){var r=h(n),e=u(n);return function(n,t){var o=u(t),a=u(n)*o,c=h(n)*o,f=h(t);return[i(c,a*e-f*r),k(f*e+a*r)]}}qn.invert=function(n,r){t(n)>1&&(n=2*p(n)-n),t(r)>1&&(r=2*p(r)-r);var e=p(n),o=p(r),a=-e*n,c=-o*r,f=c/a<1,l=function(n,r){var e=0,o=1,i=.5,a=50;for(;;){var c=i*i,f=G(i),l=k(1/G(1+c)),g=1-c+i*(1+c)*l,v=(1-f)/g,s=G(v),p=v*(1+c),h=s*(1-c),d=p-n*n,y=G(d),P=r+h+i*y;if(t(o-e)<w||0==--a||0===P)break;P>0?e=i:o=i,i=.5*(e+o)}if(!a)return null;var R=k(f),b=u(R),j=1/b,M=2*f*b,E=(-g*b-(-3*i+l*(1+3*c))*M*(1-f))/(g*g);return[m/4*(n*(-2*j*(.5*E/s*(1-c)-2*i*s*M)+-j*M*y)+-j*(i*(1+c)*E+v*(1+3*c)*M)*k(n/G(p))),R]}(f?c:a,f?a:c),g=l[0],v=l[1],s=u(v);return f&&(g=-P-g),[e*(i(h(g)*s,-h(v))+m),o*k(u(g)*s)]},In.invert=function(n,r){var e,t,u,c,l,g,v,s,p,h=(j-1)/(j+1),d=G(1-h*h),y=Hn(P,d*d),w=(l=-n,g=d*d,(c=.5*y-r)?(v=Bn(c,g),l?(p=(s=Bn(l,1-g))[1]*s[1]+g*v[0]*v[0]*s[0]*s[0],[[v[0]*s[2]/p,v[1]*v[2]*s[0]*s[1]/p],[v[1]*s[1]/p,-v[0]*v[2]*s[0]*s[2]/p],[v[2]*s[1]*s[2]/p,-g*v[0]*v[1]*s[0]/p]]):[[v[0],0],[v[1],0],[v[2],0]]):[[0,(s=Bn(l,1-g))[0]/s[1]],[1/s[1],0],[s[2]/s[1],0]]),m=(e=w[0],u=(t=w[1])[0]*t[0]+t[1]*t[1],[(e[0]*t[0]+e[1]*t[1])/u,(e[1]*t[0]-e[0]*t[1])/u]);return[i(m[1],m[0])/-1,2*o(a(-.5*f(h*m[0]*m[0]+h*m[1]*m[1])))-P]};var Tn=41+48/36+37/3600,Qn=gn(0);function Vn(n){var r=Tn*S,e=an(m,r)[0]-an(-m,r)[0],o=Qn(0,r)[1],i=an(0,r)[1],u=M-i,a=E/n,f=4/E,v=o+u*u*4/E;function s(s,p){var h,d=t(p);if(d>r){var y=g(n-1,l(0,c((s+m)/a)));(h=an(s+=m*(n-1)/n-y*a,d))[0]=h[0]*E/e-E*(n-1)/(2*n)+y*E/n,h[1]=o+4*(h[1]-i)*u/E,p<0&&(h[1]=-h[1])}else h=Qn(s,p);return h[0]*=f,h[1]/=v,h}return s.invert=function(r,s){r/=f;var p=t(s*=v);if(p>o){var h=g(n-1,l(0,c((r+m)/a)));r=(r+m*(n-1)/n-h*a)*e/E;var d=an.invert(r,.25*(p-o)*E/u+i);return d[0]-=m*(n-1)/n-h*a,s<0&&(d[1]=-d[1]),d}return Qn.invert(r,s)},s}function _n(n){var r,e=1+n,o=k(h(1/e)),a=2*G(m/(r=m+4*o*e)),c=.5*a*(e+G(n*(2+n))),f=n*n,l=e*e;function g(g,v){var s,p,d=1-h(v);if(d&&d<2){var y,R=P-v,b=25;do{var j=h(R),M=u(R),E=o+i(j,e-M),A=1+l-2*e*M;R-=y=(R-f*o-e*j+A*E-.5*d*r)/(2*e*j*E)}while(t(y)>w&&--b>0);s=a*G(A),p=g*E/m}else s=a*(n+d),p=g*o/m;return[s*h(p),c-s*u(p)]}return g.invert=function(n,t){var u=n*n+(t-=c)*t,g=(1+l-u/(a*a))/(2*e),v=x(g),s=h(v),p=o+i(s,e-g);return[k(n/G(u))*m/p,k(1-2*(v-f*o-e*s+(1+l-2*e*g)*p)/r)]},g}var Kn=.7109889596207567,On=.0528035274542;function Un(n,r){return r>-Kn?((n=K(n,r))[1]+=On,n):Y(n,r)}function Jn(n,r){return t(r)>Kn?((n=K(n,r))[1]-=r>0?On:-On,n):Y(n,r)}function Xn(n,r,e,t,o){void 0===t&&(t=1e-8),void 0===o&&(o=20);var i=n(r),u=n(.5*(r+e)),a=n(e);return function n(r,e,t,o,i,u,a,c,f,l,g){if(g.nanEncountered)return NaN;var v,s,p,h,d,y,w,m,P,R;if(s=r(e+.25*(v=t-e)),p=r(t-.25*v),isNaN(s))g.nanEncountered=!0;else{if(!isNaN(p))return R=((y=(h=v*(o+4*s+i)/12)+(d=v*(i+4*p+u)/12))-a)/15,l>f?(g.maxDepthCount++,y+R):Math.abs(R)<c?y+R:(m=n(r,e,w=e+.5*v,o,s,i,h,.5*c,f,l+1,g),isNaN(m)?(g.nanEncountered=!0,NaN):(P=n(r,w,t,i,p,u,d,.5*c,f,l+1,g),isNaN(P)?(g.nanEncountered=!0,NaN):m+P));g.nanEncountered=!0}}(n,r,e,i,u,a,(i+4*u+a)*(e-r)/6,t,o,1,{maxDepthCount:0,nanEncountered:!1})}function Yn(n,r,e){function o(e){return n+(1-n)*v(1-v(e,r),1/r)}function i(n){return Xn(o,0,n,1e-4)}for(var u=1/i(1),a=1e3,c=(1+1e-8)*u,f=[],l=0;l<=a;l++)f.push(i(l/a)*c);function g(n){for(var r=0,e=a,t=a>>1;f[t]>n?e=t:r=t,(t=r+e>>1)>r;);var o=f[t+1]-f[t];return o&&(o=(n-f[t+1])/o),(t+1+o)/a}var s=2*g(1)/m*u/e,d=function(n,r){var e=g(t(h(r))),i=o(e)*n;return e/=s,[i,r>=0?e:-e]};return d.invert=function(n,r){var e;return t(r*=s)<1&&(e=p(r)*k(i(t(r))*u)),[n/o(t(r)),e]},d}function Zn(n,r){for(var e,t,o,i=-1,u=n.length,a=n[0],c=[];++i<u;){t=((e=n[i])[0]-a[0])/r,o=(e[1]-a[1])/r;for(var f=0;f<r;++f)c.push([a[0]+f*t,a[1]+f*o]);a=e}return c.push(e),c}function $n(n,o){var i,u;function a(r,e){for(var t=e<0?-1:1,i=o[+(e<0)],u=0,a=i.length-1;u<a&&r>i[u][2][0];++u);var c=n(r-i[u][1][0],e);return c[0]+=n(i[u][1][0],t*e>t*i[u][0][1]?i[u][0][1]:e)[0],c}n.invert&&(a.invert=function(r,e){for(var i,c,f=u[+(e<0)],l=o[+(e<0)],g=0,v=f.length;g<v;++g){var s=f[g];if(s[0][0]<=r&&r<s[1][0]&&s[0][1]<=e&&e<s[1][1]){var p=n.invert(r-n(l[g][1][0],0)[0],e);return p[0]+=l[g][1][0],i=a(p[0],p[1]),c=[r,e],t(i[0]-c[0])<y&&t(i[1]-c[1])<y?p:null}}});var c=r.geoProjection(a),f=c.stream;return c.stream=function(n){var e=c.rotate(),t=f(n),o=(c.rotate([0,0]),f(n));return c.rotate(e),t.sphere=function(){r.geoStream(i,o)},t},c.lobes=function(r){return arguments.length?(i=function(n){var r,t,o,i,u,a,c,f=[],l=n[0].length;for(c=0;c<l;++c)t=(r=n[0][c])[0][0],o=r[0][1],i=r[1][1],u=r[2][0],a=r[2][1],f.push(Zn([[t+y,o+y],[t+y,i-y],[u-y,i-y],[u-y,a+y]],30));for(c=n[1].length-1;c>=0;--c)t=(r=n[1][c])[0][0],o=r[0][1],i=r[1][1],u=r[2][0],a=r[2][1],f.push(Zn([[u-y,a-y],[u-y,i+y],[t+y,i+y],[t+y,o-y]],30));return{type:"Polygon",coordinates:[e.merge(f)]}}(r),o=r.map(function(n){return n.map(function(n){return[[n[0][0]*S,n[0][1]*S],[n[1][0]*S,n[1][1]*S],[n[2][0]*S,n[2][1]*S]]})}),u=o.map(function(r){return r.map(function(r){var e,t=n(r[0][0],r[0][1])[0],o=n(r[2][0],r[2][1])[0],i=n(r[1][0],r[0][1])[1],u=n(r[1][0],r[1][1])[1];return i>u&&(e=i,i=u,u=e),[[t,i],[o,u]]})}),c):o.map(function(n){return n.map(function(n){return[[n[0][0]*A,n[0][1]*A],[n[1][0]*A,n[1][1]*A],[n[2][0]*A,n[2][1]*A]]})})},null!=o&&c.lobes(o),c}Un.invert=function(n,r){return r>-Kn?K.invert(n,r-On):Y.invert(n,r)},Jn.invert=function(n,r){return t(r)>Kn?K.invert(n,r+(r>0?On:-On)):Y.invert(n,r)};var nr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var rr=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var er=[[[[-180,0],[-100,90],[-40,0]],[[-40,0],[30,90],[180,0]]],[[[-180,0],[-160,-90],[-100,0]],[[-100,0],[-60,-90],[-20,0]],[[-20,0],[20,-90],[80,0]],[[80,0],[140,-90],[180,0]]]];var tr=[[[[-180,0],[-90,90],[0,0]],[[0,0],[90,90],[180,0]]],[[[-180,0],[-90,-90],[0,0]],[[0,0],[90,-90],[180,0]]]];var or=[[[[-180,35],[-30,90],[0,35]],[[0,35],[30,90],[180,35]]],[[[-180,-10],[-102,-90],[-65,-10]],[[-65,-10],[5,-90],[77,-10]],[[77,-10],[103,-90],[180,-10]]]];var ir=[[[[-180,0],[-110,90],[-40,0]],[[-40,0],[0,90],[40,0]],[[40,0],[110,90],[180,0]]],[[[-180,0],[-110,-90],[-40,0]],[[-40,0],[0,-90],[40,0]],[[40,0],[110,-90],[180,0]]]];function ur(n,r){return[3/E*n*G(m*m/3-r*r),r]}function ar(n){function r(r,e){if(t(t(e)-P)<y)return[0,e<0?-2:2];var o=h(e),i=v((1+o)/(1-o),n/2),a=.5*(i+1/i)+u(r*=n);return[2*h(r)/a,(i-1/i)/a]}return r.invert=function(r,e){var o=t(e);if(t(o-2)<y)return r?null:[0,p(e)*P];if(o>2)return null;var u=(r/=2)*r,a=(e/=2)*e,c=2*e/(1+u+a);return c=v((1+c)/(1-c),1/n),[i(2*r,1-u-a)/n,k((c-1)/(c+1))]},r}ur.invert=function(n,r){return[E/3*n/G(m*m/3-r*r),r]};var cr=m/j;function fr(n,r){return[n*(1+G(u(r)))/2,r/(u(r/2)*u(n/6))]}function lr(n,r){var e=n*n,t=r*r;return[n*(.975534+t*(-.0143059*e-.119161+-.0547009*t)),r*(1.00384+e*(.0802894+-.02855*t+199025e-9*e)+t*(.0998909+-.0491032*t))]}function gr(n,r){return[h(n)/u(r),d(r)*u(n)]}function vr(n){var r=u(n),e=d(R+n/2);function o(o,i){var u=i-n,a=t(u)<y?o*r:t(a=R+i/2)<y||t(t(a)-P)<y?0:o*u/f(d(a)/e);return[a,u]}return o.invert=function(o,i){var u,a=i+n;return[t(i)<y?o/r:t(u=R+a/2)<y||t(t(u)-P)<y?0:o*f(d(u)/e)/i,a]},o}function sr(n,r){return[n,1.25*f(d(R+.4*r))]}function pr(n){var r=n.length-1;function e(e,t){for(var o,i=u(t),a=2/(1+i*u(e)),c=a*i*h(e),f=a*h(t),l=r,g=n[l],v=g[0],s=g[1];--l>=0;)v=(g=n[l])[0]+c*(o=v)-f*s,s=g[1]+c*s+f*o;return[v=c*(o=v)-f*s,s=c*s+f*o]}return e.invert=function(e,a){var c=20,f=e,l=a;do{for(var g,v=r,s=n[v],p=s[0],d=s[1],w=0,m=0;--v>=0;)w=p+f*(g=w)-l*m,m=d+f*m+l*g,p=(s=n[v])[0]+f*(g=p)-l*d,d=s[1]+f*d+l*g;var P,R,b=(w=p+f*(g=w)-l*m)*w+(m=d+f*m+l*g)*m;f-=P=((p=f*(g=p)-l*d-e)*w+(d=f*d+l*g-a)*m)/b,l-=R=(d*w-p*m)/b}while(t(P)+t(R)>y*y&&--c>0);if(c){var j=G(f*f+l*l),M=2*o(.5*j),E=h(M);return[i(f*E,j*u(M)),j?k(l*E/j):0]}},e}fr.invert=function(n,r){var e=t(n),o=t(r),i=y,a=P;o<cr?a*=o/cr:i+=6*x(cr/o);for(var c=0;c<25;c++){var f=h(a),l=G(u(a)),g=h(a/2),v=u(a/2),s=h(i/6),p=u(i/6),d=.5*i*(1+l)-e,w=a/(v*p)-o,m=l?-.25*i*f/l:0,R=.5*(1+l),b=(1+.5*a*g/v)/(v*p),j=a/v*(s/6)/(p*p),M=m*j-b*R,E=(d*j-w*R)/M,A=(w*m-d*b)/M;if(a-=E,i-=A,t(E)<y&&t(A)<y)break}return[n<0?-i:i,r<0?-a:a]},lr.invert=function(n,r){var e=p(n)*m,o=r/2,i=50;do{var u=e*e,a=o*o,c=e*o,f=e*(.975534+a*(-.0143059*u-.119161+-.0547009*a))-n,l=o*(1.00384+u*(.0802894+-.02855*a+199025e-9*u)+a*(.0998909+-.0491032*a))-r,g=.975534-a*(.119161+3*u*.0143059+.0547009*a),v=-c*(.238322+.2188036*a+.0286118*u),s=c*(.1605788+7961e-7*u+-.0571*a),h=1.00384+u*(.0802894+199025e-9*u)+a*(3*(.0998909-.02855*u)-.245516*a),d=v*s-h*g,w=(l*v-f*h)/d,P=(f*s-l*g)/d;e-=w,o-=P}while((t(w)>y||t(P)>y)&&--i>0);return i&&[e,o]},gr.invert=function(n,r){var e=n*n,t=r*r+1,o=e+t,i=n?b*G((o-G(o*o-4*e))/e):1/G(t);return[k(n*i),p(r)*x(i)]},sr.invert=function(n,r){return[n,2.5*o(a(.8*r))-.625*m]};var hr=[[.9972523,0],[.0052513,-.0041175],[.0074606,.0048125],[-.0153783,-.1968253],[.0636871,-.1408027],[.3660976,-.2937382]],dr=[[.98879,0],[0,0],[-.050909,0],[0,0],[.075528,0]],yr=[[.984299,0],[.0211642,.0037608],[-.1036018,-.0575102],[-.0329095,-.0320119],[.0499471,.1223335],[.026046,.0899805],[7388e-7,-.1435792],[.0075848,-.1334108],[-.0216473,.0776645],[-.0225161,.0853673]],wr=[[.9245,0],[0,0],[.01943,0]],mr=[[.721316,0],[0,0],[-.00881625,-.00617325]];function Pr(n,e){var t=r.geoProjection(pr(n)).rotate(e).clipAngle(90),o=r.geoRotation(e),i=t.center;return delete t.rotate,t.center=function(n){return arguments.length?i(o(n)):o.invert(i())},t}var Rr=G(6),br=G(7);function jr(n,r){var e=k(7*h(r)/(3*Rr));return[Rr*n*(2*u(2*e/3)-1)/br,9*h(e/3)/br]}function Mr(n,r){for(var e,o=(1+b)*h(r),i=r,a=0;a<25&&(i-=e=(h(i/2)+h(i)-o)/(.5*u(i/2)+u(i)),!(t(e)<y));a++);return[n*(1+2*u(i)/u(i/2))/(3*j),2*G(3)*h(i/2)/G(2+j)]}function Er(n,r){for(var e,o=G(6/(4+m)),i=(1+m/4)*h(r),a=r/2,c=0;c<25&&(a-=e=(a/2+h(a)-i)/(.5+u(a)),!(t(e)<y));c++);return[o*(.5+u(a))*n/1.5,o*a]}function Ar(n,r){var e=r*r,t=e*e,o=e*t;return[n*(.84719-.13063*e+o*o*(.05494*e-.04515-.02326*t+.00331*o)),r*(1.01183+t*t*(.01926*e-.02625-.00396*t))]}function Sr(n,r){return[n*(1+u(r))/2,2*(r-d(r/2))]}jr.invert=function(n,r){var e=3*k(r*br/9);return[n*br/(Rr*(2*u(2*e/3)-1)),k(3*h(e)*Rr/7)]},Mr.invert=function(n,r){var e=r*G(2+j)/(2*G(3)),t=2*k(e);return[3*j*n/(1+2*u(t)/u(t/2)),k((e+h(t))/(1+b))]},Er.invert=function(n,r){var e=G(6/(4+m)),o=r/e;return t(t(o)-P)<y&&(o=o<0?-P:P),[1.5*n/(e*(.5+u(o))),k((o/2+h(o))/(1+m/4))]},Ar.invert=function(n,r){for(var e,o,i,u,a=r,c=25;a-=e=(a*(1.01183+(i=(o=a*a)*o)*i*(.01926*o-.02625-.00396*i))-r)/(1.01183+i*i*(.21186*o-.23625+-.05148*i)),t(e)>w&&--c>0;);return[n/(.84719-.13063*(o=a*a)+(u=o*(i=o*o))*u*(.05494*o-.04515-.02326*i+.00331*u)),a]},Sr.invert=function(n,r){for(var e=r/2,o=0,i=1/0;o<10&&t(i)>y;++o){var a=u(r/2);r-=i=(r-d(r/2)-e)/(1-.5/(a*a))}return[2*n/(1+u(r)),r]};var kr=1.0148,xr=.23185,Gr=-.14499,Cr=.02406,zr=kr,Fr=5*xr,Nr=7*Gr,Lr=9*Cr,qr=1.790857183;function Br(n,r){var e=r*r;return[n,r*(kr+e*e*(xr+e*(Gr+Cr*e)))]}function Hr(n,r){if(t(r)<y)return[n,0];var e=d(r),o=n*h(r);return[h(o)/e,r+(1-u(o))/e]}function Ir(n,r){var e,t,o=Dr(n[1],n[0]),a=Dr(r[1],r[0]),c=(t=a,i((e=o)[0]*t[1]-e[1]*t[0],e[0]*t[0]+e[1]*t[1])),f=Tr(o)/Tr(a);return Wr([1,0,n[0][0],0,1,n[0][1]],Wr([f,0,0,0,f,0],Wr([u(c),h(c),0,-h(c),u(c),0],[1,0,-r[0][0],0,1,-r[0][1]])))}function Wr(n,r){return[n[0]*r[0]+n[1]*r[3],n[0]*r[1]+n[1]*r[4],n[0]*r[2]+n[1]*r[5]+n[2],n[3]*r[0]+n[4]*r[3],n[3]*r[1]+n[4]*r[4],n[3]*r[2]+n[4]*r[5]+n[5]]}function Dr(n,r){return[n[0]-r[0],n[1]-r[1]]}function Tr(n){return G(n[0]*n[0]+n[1]*n[1])}function Qr(n,e,o){function i(n,r){var t,o=e(n,r),i=o.project([n*A,r*A]);return(t=o.transform)?[t[0]*i[0]+t[1]*i[1]+t[2],-(t[3]*i[0]+t[4]*i[1]+t[5])]:(i[1]=-i[1],i)}!function n(r,e){r.edges=function(n){for(var r=n.length,e=[],t=n[r-1],o=0;o<r;++o)e.push([t,t=n[o]]);return e}(r.face);if(e.face){var t=r.shared=function(n,r){for(var e,t,o=n.length,i=null,u=0;u<o;++u){e=n[u];for(var a=r.length;--a>=0;)if(t=r[a],e[0]===t[0]&&e[1]===t[1]){if(i)return[i,e];i=e}}}(r.face,e.face),o=Ir(t.map(e.project),t.map(r.project));r.transform=e.transform?Wr(e.transform,o):o;for(var i=e.edges,u=0,a=i.length;u<a;++u)Vr(t[0],i[u][1])&&Vr(t[1],i[u][0])&&(i[u]=r),Vr(t[0],i[u][0])&&Vr(t[1],i[u][1])&&(i[u]=r);for(i=r.edges,u=0,a=i.length;u<a;++u)Vr(t[0],i[u][0])&&Vr(t[1],i[u][1])&&(i[u]=e),Vr(t[0],i[u][1])&&Vr(t[1],i[u][0])&&(i[u]=e)}else r.transform=e.transform;r.children&&r.children.forEach(function(e){n(e,r)});return r}(n,{transform:null}),_r(n)&&(i.invert=function(r,t){var o=function n(r,t){var o=r.project.invert,i=r.transform,u=t;i&&(c=1/((a=i)[0]*a[4]-a[1]*a[3]),i=[c*a[4],-c*a[1],c*(a[1]*a[5]-a[2]*a[4]),-c*a[3],c*a[0],c*(a[2]*a[3]-a[0]*a[5])],u=[i[0]*u[0]+i[1]*u[1]+i[2],i[3]*u[0]+i[4]*u[1]+i[5]]);var a,c;if(o&&r===(f=l=o(u),e(f[0]*S,f[1]*S)))return l;var f;var l,g=r.children;for(var v=0,s=g&&g.length;v<s;++v)if(l=n(g[v],t))return l}(n,[r,-t]);return o&&(o[0]*=S,o[1]*=S,o)});var u=r.geoProjection(i),a=u.stream;return u.stream=function(e){var o=u.rotate(),i=a(e),c=(u.rotate([0,0]),a(e));return u.rotate(o),i.sphere=function(){c.polygonStart(),c.lineStart(),function n(e,o,i){var u,a,c=o.edges,f=c.length,l={type:"MultiPoint",coordinates:o.face},g=o.face.filter(function(n){return 90!==t(n[1])}),v=r.geoBounds({type:"MultiPoint",coordinates:g}),s=!1,p=-1,h=v[1][0]-v[0][0];var d=180===h||360===h?[(v[0][0]+v[1][0])/2,(v[0][1]+v[1][1])/2]:r.geoCentroid(l);if(i)for(;++p<f&&c[p]!==i;);++p;for(var w=0;w<f;++w)a=c[(w+p)%f],Array.isArray(a)?(s||(e.point((u=r.geoInterpolate(a[0],d)(y))[0],u[1]),s=!0),e.point((u=r.geoInterpolate(a[1],d)(y))[0],u[1])):(s=!1,a!==i&&n(e,a,o))}(c,n),c.lineEnd(),c.polygonEnd()},i},u.angle(null==o?-30:o*A)}function Vr(n,r){return n&&r&&n[0]===r[0]&&n[1]===r[1]}function _r(n){return n.project.invert||n.children&&n.children.some(_r)}Br.invert=function(n,r){r>qr?r=qr:r<-qr&&(r=-qr);var e,o=r;do{var i=o*o;o-=e=(o*(kr+i*i*(xr+i*(Gr+Cr*i)))-r)/(zr+i*i*(Fr+i*(Nr+Lr*i)))}while(t(e)>y);return[n,o]},Hr.invert=function(n,r){if(t(r)<y)return[n,0];var e,o=n*n+r*r,i=.5*r,a=10;do{var c=d(i),f=1/u(i),l=o-2*r*i+i*i;i-=e=(c*l+2*(i-r))/(2+l*f*f+2*(i-r)*c)}while(t(e)>y&&--a>0);return c=d(i),[(t(r)<t(i+1/c)?k(n*c):p(n)*(x(t(n*c))+P))/h(i),i]};var Kr=[[0,90],[-90,0],[0,0],[90,0],[180,0],[0,-90]],Or=[[0,2,1],[0,3,2],[5,1,2],[5,2,3],[0,1,4],[0,4,3],[5,4,1],[5,3,4]].map(function(n){return n.map(function(n){return Kr[n]})});var Ur=2/G(3);function Jr(n,r){var e=an(n,r);return[e[0]*Ur,e[1]]}function Xr(n,r){for(var e=0,t=n.length,o=0;e<t;++e)o+=n[e]*r[e];return o}function Yr(n){return[i(n[1],n[0])*A,k(l(-1,g(1,n[2])))*A]}function Zr(n){var r=n[0]*S,e=n[1]*S,t=u(e);return[t*u(r),t*h(r),h(e)]}function $r(){}function ne(n,r){return{type:"FeatureCollection",features:n.features.map(function(n){return re(n,r)})}}function re(n,r){return{type:"Feature",id:n.id,properties:n.properties,geometry:ee(n.geometry,r)}}function ee(n,e){if(!n)return null;if("GeometryCollection"===n.type)return t=e,{type:"GeometryCollection",geometries:n.geometries.map(function(n){return ee(n,t)})};var t,o;switch(n.type){case"Point":case"MultiPoint":o=ie;break;case"LineString":case"MultiLineString":o=ue;break;case"Polygon":case"MultiPolygon":case"Sphere":o=ae;break;default:return null}return r.geoStream(n,e(o)),o.result()}Jr.invert=function(n,r){return an.invert(n/Ur,r)};var te=[],oe=[],ie={point:function(n,r){te.push([n,r])},result:function(){var n=te.length?te.length<2?{type:"Point",coordinates:te[0]}:{type:"MultiPoint",coordinates:te}:null;return te=[],n}},ue={lineStart:$r,point:function(n,r){te.push([n,r])},lineEnd:function(){te.length&&(oe.push(te),te=[])},result:function(){var n=oe.length?oe.length<2?{type:"LineString",coordinates:oe[0]}:{type:"MultiLineString",coordinates:oe}:null;return oe=[],n}},ae={polygonStart:$r,lineStart:$r,point:function(n,r){te.push([n,r])},lineEnd:function(){var n=te.length;if(n){for(;te.push(te[0].slice()),++n<4;);oe.push(te),te=[]}},polygonEnd:$r,result:function(){if(!oe.length)return null;var n=[],r=[];return oe.forEach(function(e){!function(n){if((r=n.length)<4)return!1;for(var r,e=0,t=n[r-1][1]*n[0][0]-n[r-1][0]*n[0][1];++e<r;)t+=n[e-1][1]*n[e][0]-n[e-1][0]*n[e][1];return t<=0}(e)?r.push(e):n.push([e])}),r.forEach(function(r){var e=r[0];n.some(function(n){if(function(n,r){for(var e=r[0],t=r[1],o=!1,i=0,u=n.length,a=u-1;i<u;a=i++){var c=n[i],f=c[0],l=c[1],g=n[a],v=g[0],s=g[1];l>t^s>t&&e<(v-f)*(t-l)/(s-l)+f&&(o=!o)}return o}(n[0],e))return n.push(r),!0})||n.push([r])}),oe=[],n.length?n.length>1?{type:"MultiPolygon",coordinates:n}:{type:"Polygon",coordinates:n[0]}:null}};function ce(n){var e=n(P,0)[0]-n(-P,0)[0];function o(r,o){var i=t(r)<P,u=n(i?r:r>0?r-m:r+m,o),a=(u[0]-u[1])*b,c=(u[0]+u[1])*b;if(i)return[a,c];var f=e*b,l=a>0^c>0?-1:1;return[l*a-p(c)*f,l*c-p(a)*f]}return n.invert&&(o.invert=function(r,o){var i=(r+o)*b,u=(o-r)*b,a=t(i)<.5*e&&t(u)<.5*e;if(!a){var c=e*b,f=i>0^u>0?-1:1,l=-f*r+(u>0?1:-1)*c,g=-f*o+(i>0?1:-1)*c;i=(-l-g)*b,u=(l-g)*b}var v=n.invert(i,u);return a||(v[0]+=i>0?m:-m),v}),r.geoProjection(o).rotate([-90,-90,45]).clipAngle(179.999)}function fe(){return ce(In).scale(111.48)}function le(n){var r=h(n);function e(e,t){var i=r?d(e*r/2)/r:e/2;if(!t)return[2*i,-n];var a=2*o(i*h(t)),c=1/d(t);return[h(a)*c,t+(1-u(a))*c-n]}return e.invert=function(e,i){if(t(i+=n)<y)return[r?2*o(r*e/2)/r:e,0];var a,c=e*e+i*i,f=0,l=10;do{var g=d(f),v=1/u(f),s=c-2*i*f+f*f;f-=a=(g*s+2*(f-i))/(2+s*v*v+2*(f-i)*g)}while(t(a)>y&&--l>0);var p=e*(g=d(f)),w=d(t(i)<t(f+1/g)?.5*k(p):.5*x(p)+m/4)/h(f);return[r?2*o(r*w)/r:2*w,f]},e}var ge=[[.9986,-.062],[1,0],[.9986,.062],[.9954,.124],[.99,.186],[.9822,.248],[.973,.31],[.96,.372],[.9427,.434],[.9216,.4958],[.8962,.5571],[.8679,.6176],[.835,.6769],[.7986,.7346],[.7597,.7903],[.7186,.8435],[.6732,.8936],[.6213,.9394],[.5722,.9761],[.5322,1]];function ve(n,r){var e,o=g(18,36*t(r)/m),i=c(o),u=o-i,a=(e=ge[i])[0],f=e[1],l=(e=ge[++i])[0],v=e[1],s=(e=ge[g(19,++i)])[0],p=e[1];return[n*(l+u*(s-a)/2+u*u*(s-2*l+a)/2),(r>0?P:-P)*(v+u*(p-f)/2+u*u*(p-2*v+f)/2)]}function se(n,r){var e=function(n){function r(r,e){var t=u(e),o=(n-1)/(n-t*u(r));return[o*t*h(r),o*h(e)]}return r.invert=function(r,e){var t=r*r+e*e,o=G(t),u=(n-G(1-t*(n+1)/(n-1)))/((n-1)/o+o/(n-1));return[i(r*u,o*G(1-u*u)),o?k(e*u/o):0]},r}(n);if(!r)return e;var t=u(r),o=h(r);function a(r,i){var u=e(r,i),a=u[1],c=a*o/(n-1)+t;return[u[0]*t/c,a/c]}return a.invert=function(r,i){var u=(n-1)/(n-1-i*o);return e.invert(u*r,u*i*t)},a}ge.forEach(function(n){n[1]*=1.0144}),ve.invert=function(n,r){var e=r/P,o=90*e,i=g(18,t(o/5)),u=l(0,c(i));do{var a=ge[u][1],f=ge[u+1][1],v=ge[g(19,u+2)][1],s=v-a,p=v-2*f+a,h=2*(t(e)-f)/s,d=p/s,y=h*(1-d*h*(1-2*d*h));if(y>=0||1===u){o=(r>=0?5:-5)*(y+i);for(var m,R=50;y=(i=g(18,t(o)/5))-(u=c(i)),a=ge[u][1],f=ge[u+1][1],v=ge[g(19,u+2)][1],o-=(m=(r>=0?P:-P)*(f+y*(v-a)/2+y*y*(v-2*f+a)/2)-r)*A,t(m)>w&&--R>0;);break}}while(--u>=0);var b=ge[u][0],j=ge[u+1][0],M=ge[g(19,u+2)][0];return[n/(j+y*(M-b)/2+y*y*(M-2*j+b)/2),o*S]};var pe=1e4,he=-180,de=he+1e-4,ye=180,we=ye-1e-4,me=-90,Pe=me+1e-4,Re=90,be=Re-1e-4;function je(n){return n.length>0}function Me(n){return n===me||n===Re?[0,n]:[he,(r=n,Math.floor(r*pe)/pe)];var r}function Ee(n){var r=n[0],e=n[1],t=!1;return r<=de?(r=he,t=!0):r>=we&&(r=ye,t=!0),e<=Pe?(e=me,t=!0):e>=be&&(e=Re,t=!0),t?[r,e]:n}function Ae(n){return n.map(Ee)}function Se(n,r,e){for(var t=0,o=n.length;t<o;++t){var i=n[t].slice();e.push({index:-1,polygon:r,ring:i});for(var u=0,a=i.length;u<a;++u){var c=i[u],f=c[0],l=c[1];if(f<=de||f>=we||l<=Pe||l>=be){i[u]=Ee(c);for(var g=u+1;g<a;++g){var v=i[g],s=v[0],p=v[1];if(s>de&&s<we&&p>Pe&&p<be)break}if(g===u+1)continue;if(u){var h={index:-1,polygon:r,ring:i.slice(0,u+1)};h.ring[h.ring.length-1]=Me(l),e[e.length-1]=h}else e.pop();if(g>=a)break;e.push({index:-1,polygon:r,ring:i=i.slice(g-1)}),i[0]=Me(i[0][1]),u=-1,a=i.length}}}}function ke(n){var r,e,t,o,i,u,a=n.length,c={},f={};for(r=0;r<a;++r)t=(e=n[r]).ring[0],i=e.ring[e.ring.length-1],t[0]!==i[0]||t[1]!==i[1]?(e.index=r,c[t]=f[i]=e):(e.polygon.push(e.ring),n[r]=null);for(r=0;r<a;++r)if(e=n[r]){if(t=e.ring[0],i=e.ring[e.ring.length-1],o=f[t],u=c[i],delete c[t],delete f[i],t[0]===i[0]&&t[1]===i[1]){e.polygon.push(e.ring);continue}o?(delete f[t],delete c[o.ring[0]],o.ring.pop(),n[o.index]=null,e={index:-1,polygon:o.polygon,ring:o.ring.concat(e.ring)},o===u?e.polygon.push(e.ring):(e.index=a++,n.push(c[e.ring[0]]=f[e.ring[e.ring.length-1]]=e))):u?(delete c[i],delete f[u.ring[u.ring.length-1]],e.ring.pop(),e={index:a++,polygon:u.polygon,ring:e.ring.concat(u.ring)},n[u.index]=null,n.push(c[e.ring[0]]=f[e.ring[e.ring.length-1]]=e)):(e.ring.push(e.ring[0]),e.polygon.push(e.ring))}}function xe(n){var r={type:"Feature",geometry:Ge(n.geometry)};return null!=n.id&&(r.id=n.id),null!=n.bbox&&(r.bbox=n.bbox),null!=n.properties&&(r.properties=n.properties),r}function Ge(n){if(null==n)return n;var r,e,t,o;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(Ge)};break;case"Point":r={type:"Point",coordinates:Ee(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:Ae(n.coordinates)};break;case"MultiLineString":r={type:"MultiLineString",coordinates:n.coordinates.map(Ae)};break;case"Polygon":var i=[];Se(n.coordinates,i,e=[]),ke(e),r={type:"Polygon",coordinates:i};break;case"MultiPolygon":e=[],t=-1,o=n.coordinates.length;for(var u=new Array(o);++t<o;)Se(n.coordinates[t],u[t]=[],e);ke(e),r={type:"MultiPolygon",coordinates:u.filter(je)};break;default:return n}return null!=n.bbox&&(r.bbox=n.bbox),r}function Ce(n,r){var e=d(r/2),t=h(R*e);return[n*(.74482-.34588*t*t),1.70711*e]}function ze(n,e,t){var o=r.geoInterpolate(e,t),i=o(.5),u=r.geoRotation([-i[0],-i[1]])(e),a=o.distance/2,c=-k(h(u[1]*S)/h(a)),f=[-i[0],-i[1],-(u[0]>0?m-c:c)*A],l=r.geoProjection(n(a)).rotate(f),g=r.geoRotation(f),v=l.center;return delete l.rotate,l.center=function(n){return arguments.length?v(g(n)):g.invert(v())},l.clipAngle(90)}function Fe(n){var e=u(n);function t(n,t){var o=r.geoGnomonicRaw(n,t);return o[0]*=e,o}return t.invert=function(n,t){return r.geoGnomonicRaw.invert(n/e,t)},t}function Ne(n,r){return ze(Fe,n,r)}function Le(n){if(!(n*=2))return r.geoAzimuthalEquidistantRaw;var e=-n/2,t=-e,o=n*n,a=d(t),c=.5/h(t);function f(r,i){var a=x(u(i)*u(r-e)),c=x(u(i)*u(r-t));return[((a*=a)-(c*=c))/(2*n),(i<0?-1:1)*G(4*o*c-(o-a+c)*(o-a+c))/(2*n)]}return f.invert=function(n,r){var o,f,l=r*r,g=u(G(l+(o=n+e)*o)),v=u(G(l+(o=n+t)*o));return[i(f=g-v,o=(g+v)*a),(r<0?-1:1)*x(G(o*o+f*f)*c)]},f}function qe(n,r){return ze(Le,n,r)}function Be(n,r){if(t(r)<y)return[n,0];var e=t(r/P),o=k(e);if(t(n)<y||t(t(r)-P)<y)return[0,p(r)*m*d(o/2)];var i=u(o),a=t(m/n-n/m)/2,c=a*a,f=i/(e+i-1),l=f*(2/e-1),g=l*l,v=g+c,s=f-g,h=c+f;return[p(n)*m*(a*s+G(c*s*s-v*(f*f-g)))/v,p(r)*m*(l*h-a*G((c+1)*v-h*h))/v]}function He(n,r){if(t(r)<y)return[n,0];var e=t(r/P),o=k(e);if(t(n)<y||t(t(r)-P)<y)return[0,p(r)*m*d(o/2)];var i=u(o),a=t(m/n-n/m)/2,c=a*a,f=i*(G(1+c)-a*i)/(1+c*e*e);return[p(n)*m*f,p(r)*m*G(1-f*(2*a+f))]}function Ie(n,r){if(t(r)<y)return[n,0];var e=r/P,o=k(e);if(t(n)<y||t(t(r)-P)<y)return[0,m*d(o/2)];var i=(m/n-n/m)/2,a=e/(1+u(o));return[m*(p(n)*G(i*i+1-a*a)-i),m*a]}function We(n,r){if(!r)return[n,0];var e=t(r);if(!n||e===P)return[0,r];var o=e/P,i=o*o,u=(8*o-i*(i+2)-5)/(2*i*(o-1)),a=u*u,c=o*u,f=i+a+2*c,l=o+3*u,g=n/P,v=g+1/g,s=p(t(n)-P)*G(v*v-4),h=s*s,d=(s*(f+a-1)+2*G(f*(i+a*h-1)+(1-i)*(i*(l*l+4*a)+12*c*a+4*a*a)))/(4*f+h);return[p(n)*P*d,p(r)*P*G(1+s*t(d)-d*d)]}Ce.invert=function(n,r){var e=r/1.70711,t=h(R*e);return[n/(.74482-.34588*t*t),2*o(e)]},Be.invert=function(n,r){if(t(r)<y)return[n,0];if(t(n)<y)return[0,P*h(2*o(r/m))];var e=(n/=m)*n,i=(r/=m)*r,a=e+i,c=a*a,f=-t(r)*(1+a),l=f-2*i+e,g=-2*f+1+2*i+c,v=i/g+(2*l*l*l/(g*g*g)-9*f*l/(g*g))/27,s=(f-l*l/(3*g))/g,d=2*G(-s/3),w=x(3*v/(s*d))/3;return[m*(a-1+G(1+2*(e-i)+c))/(2*n),p(r)*m*(-d*u(w+m/3)-l/(3*g))]},He.invert=function(n,r){if(!n)return[0,P*h(2*o(r/m))];var e=t(n/m),u=(1-e*e-(r/=m)*r)/(2*e),a=G(u*u+1);return[p(n)*m*(a-u),p(r)*P*h(2*i(G((1-2*u*e)*(u+a)-e),G(a+u+e)))]},Ie.invert=function(n,r){if(!r)return[n,0];var e=r/m,t=(m*m*(1-e*e)-n*n)/(2*m*n);return[n?m*(p(n)*G(t*t+1)-t):0,P*h(2*o(e))]},We.invert=function(n,r){var e;if(!n||!r)return[n,r];r/=m;var o=p(n)*n/P,i=(o*o-1+4*r*r)/t(o),u=i*i,a=2*r,c=50;do{var f=a*a,l=(8*a-f*(f+2)-5)/(2*f*(a-1)),g=(3*a-f*a-10)/(2*f*a),v=l*l,s=a*l,h=a+l,d=h*h,w=a+3*l,R=-2*h*(4*s*v+(1-4*f+3*f*f)*(1+g)+v*(14*f-6-u+(8*f-8-2*u)*g)+s*(12*f-8+(10*f-10-u)*g)),b=G(d*(f+v*u-1)+(1-f)*(f*(w*w+4*v)+v*(12*s+4*v)));a-=e=(i*(d+v-1)+2*b-o*(4*d+u))/(i*(2*l*g+2*h*(1+g))+R/b-8*h*(i*(-1+v+d)+2*b)*(1+g)/(u+4*d))}while(e>y&&--c>0);return[p(n)*(G(i*i+4)+i)*m/4,P*a]};var De=4*m+3*G(3),Te=2*G(2*m*G(3)/De),Qe=_(Te*G(3)/m,Te,De/6);function Ve(n,r){return[n*G(1-3*r*r/(m*m)),r]}function _e(n,r){var e=.90631*h(r),t=G(1-e*e),o=G(2/(1+t*u(n/=3)));return[2.66723*t*o*h(n),1.24104*e*o]}function Ke(n,r){var e=u(r),t=u(n)*e,o=1-t,a=u(n=i(h(n)*e,-h(r))),c=h(n);return[c*(e=G(1-t*t))-a*o,-a*e-c*o]}function Oe(n,r){var e=N(n,r);return[(e[0]+n/P)/2,(e[1]+r)/2]}Ve.invert=function(n,r){return[n/G(1-3*r*r/(m*m)),r]},_e.invert=function(n,r){var e=n/2.66723,t=r/1.24104,o=G(e*e+t*t),u=2*k(o/2);return[3*i(n*d(u),2.66723*o),o&&k(r*h(u)/(1.24104*.90631*o))]},Ke.invert=function(n,r){var e=(n*n+r*r)/-2,t=G(-e*(2+e)),o=r*e+n*t,u=n*e-r*t,a=G(u*u+o*o);return[i(t*o,a*(1+e)),a?-k(t*u/a):0]},Oe.invert=function(n,r){var e=n,o=r,i=25;do{var a,c=u(o),f=h(o),l=h(2*o),g=f*f,v=c*c,s=h(e),p=u(e/2),d=h(e/2),w=d*d,m=1-v*p*p,R=m?x(c*p)*G(a=1/m):a=0,b=.5*(2*R*c*d+e/P)-n,j=.5*(R*f+o)-r,M=.5*a*(v*w+R*c*p*g)+.5/P,E=a*(s*l/4-R*f*d),A=.125*a*(l*d-R*f*v*s),S=.5*a*(g*p+R*w*c)+.5,k=E*A-S*M,C=(j*E-b*S)/k,z=(b*A-j*M)/k;e-=C,o-=z}while((t(C)>y||t(z)>y)&&--i>0);return[e,o]},n.geoAiry=function(){var n=P,e=r.geoProjectionMutator(F),t=e(n);return t.radius=function(r){return arguments.length?e(n=r*S):n*A},t.scale(179.976).clipAngle(147)},n.geoAiryRaw=F,n.geoAitoff=function(){return r.geoProjection(N).scale(152.63)},n.geoAitoffRaw=N,n.geoArmadillo=function(){var n=20*S,e=n>=0?1:-1,t=d(e*n),o=r.geoProjectionMutator(L),a=o(n),c=a.stream;return a.parallel=function(r){return arguments.length?(t=d((e=(n=r*S)>=0?1:-1)*n),o(n)):n*A},a.stream=function(r){var o=a.rotate(),f=c(r),l=(a.rotate([0,0]),c(r));return a.rotate(o),f.sphere=function(){l.polygonStart(),l.lineStart();for(var r=-180*e;e*r<180;r+=90*e)l.point(r,90*e);for(;e*(r-=n)>=-180;)l.point(r,e*-i(u(r*S/2),t)*A);l.lineEnd(),l.polygonEnd()},f},a.scale(218.695).center([0,28.0974])},n.geoArmadilloRaw=L,n.geoAugust=function(){return r.geoProjection(q).scale(66.1603)},n.geoAugustRaw=q,n.geoBaker=function(){return r.geoProjection(I).scale(112.314)},n.geoBakerRaw=I,n.geoBerghaus=function(){var n=5,e=r.geoProjectionMutator(W),t=e(n),o=t.stream,a=-u(.01*S),c=h(.01*S);return t.lobes=function(r){return arguments.length?e(n=+r):n},t.stream=function(r){var e=t.rotate(),f=o(r),l=(t.rotate([0,0]),o(r));return t.rotate(e),f.sphere=function(){l.polygonStart(),l.lineStart();for(var r=0,e=360/n,t=2*m/n,o=90-180/n,f=P;r<n;++r,o-=e,f-=t)l.point(i(c*u(f),a)*A,k(c*h(f))*A),o<-90?(l.point(-90,-180-o-.01),l.point(-90,-180-o+.01)):(l.point(90,o+.01),l.point(90,o-.01));l.lineEnd(),l.polygonEnd()},f},t.scale(87.8076).center([0,17.1875]).clipAngle(179.999)},n.geoBerghausRaw=W,n.geoBertin1953=function(){var n=r.geoProjection(Q());return n.rotate([-16.5,-42]),delete n.rotate,n.scale(176.57).center([7.93,.09])},n.geoBertin1953Raw=Q,n.geoBoggs=function(){return r.geoProjection(J).scale(160.857)},n.geoBoggsRaw=J,n.geoBonne=function(){return X(Z).scale(123.082).center([0,26.1441]).parallel(45)},n.geoBonneRaw=Z,n.geoBottomley=function(){var n=.5,e=r.geoProjectionMutator($),t=e(n);return t.fraction=function(r){return arguments.length?e(n=+r):n},t.scale(158.837)},n.geoBottomleyRaw=$,n.geoBromley=function(){return r.geoProjection(nn).scale(152.63)},n.geoBromleyRaw=nn,n.geoChamberlin=un,n.geoChamberlinRaw=tn,n.geoChamberlinAfrica=function(){return un([0,22],[45,22],[22.5,-22]).scale(380).center([22.5,2])},n.geoCollignon=function(){return r.geoProjection(an).scale(95.6464).center([0,30])},n.geoCollignonRaw=an,n.geoCraig=function(){return X(cn).scale(249.828).clipAngle(90)},n.geoCraigRaw=cn,n.geoCraster=function(){return r.geoProjection(ln).scale(156.19)},n.geoCrasterRaw=ln,n.geoCylindricalEqualArea=function(){return X(gn).parallel(38.58).scale(195.044)},n.geoCylindricalEqualAreaRaw=gn,n.geoCylindricalStereographic=function(){return X(vn).scale(124.75)},n.geoCylindricalStereographicRaw=vn,n.geoEckert1=function(){return r.geoProjection(sn).scale(165.664)},n.geoEckert1Raw=sn,n.geoEckert2=function(){return r.geoProjection(pn).scale(165.664)},n.geoEckert2Raw=pn,n.geoEckert3=function(){return r.geoProjection(hn).scale(180.739)},n.geoEckert3Raw=hn,n.geoEckert4=function(){return r.geoProjection(dn).scale(180.739)},n.geoEckert4Raw=dn,n.geoEckert5=function(){return r.geoProjection(yn).scale(173.044)},n.geoEckert5Raw=yn,n.geoEckert6=function(){return r.geoProjection(wn).scale(173.044)},n.geoEckert6Raw=wn,n.geoEisenlohr=function(){return r.geoProjection(Pn).scale(62.5271)},n.geoEisenlohrRaw=Pn,n.geoFahey=function(){return r.geoProjection(bn).scale(137.152)},n.geoFaheyRaw=bn,n.geoFoucaut=function(){return r.geoProjection(jn).scale(135.264)},n.geoFoucautRaw=jn,n.geoGilbert=function(n){null==n&&(n=r.geoOrthographic);var e=n(),t=r.geoEquirectangular().scale(A).precision(0).clipAngle(null).translate([0,0]);function o(n){return e(Mn(n))}function i(n){o[n]=function(r){return arguments.length?(e[n](r),o):e[n]()}}return e.invert&&(o.invert=function(n){return En(e.invert(n))}),o.stream=function(n){var r=e.stream(n),o=t.stream({point:function(n,e){r.point(n/2,k(d(-e/2*S))*A)},lineStart:function(){r.lineStart()},lineEnd:function(){r.lineEnd()},polygonStart:function(){r.polygonStart()},polygonEnd:function(){r.polygonEnd()}});return o.sphere=r.sphere,o},o.rotate=function(n){return arguments.length?(t.rotate(n),o):t.rotate()},o.center=function(n){return arguments.length?(e.center(Mn(n)),o):En(e.center())},i("angle"),i("clipAngle"),i("clipExtent"),i("scale"),i("translate"),i("precision"),o.scale(249.5)},n.geoGingery=function(){var n=6,e=30*S,t=u(e),o=h(e),a=r.geoProjectionMutator(An),c=a(e,n),f=c.stream,l=-u(.01*S),g=h(.01*S);return c.radius=function(r){return arguments.length?(t=u(e=r*S),o=h(e),a(e,n)):e*A},c.lobes=function(r){return arguments.length?a(e,n=+r):n},c.stream=function(r){var e=c.rotate(),a=f(r),v=(c.rotate([0,0]),f(r));return c.rotate(e),a.sphere=function(){v.polygonStart(),v.lineStart();for(var r=0,e=2*m/n,a=0;r<n;++r,a-=e)v.point(i(g*u(a),l)*A,k(g*h(a))*A),v.point(i(o*u(a-e/2),t)*A,k(o*h(a-e/2))*A);v.lineEnd(),v.polygonEnd()},a},c.rotate([90,-40]).scale(91.7095).clipAngle(179.999)},n.geoGingeryRaw=An,n.geoGinzburg4=function(){return r.geoProjection(Gn).scale(149.995)},n.geoGinzburg4Raw=Gn,n.geoGinzburg5=function(){return r.geoProjection(Cn).scale(153.93)},n.geoGinzburg5Raw=Cn,n.geoGinzburg6=function(){return r.geoProjection(zn).scale(130.945)},n.geoGinzburg6Raw=zn,n.geoGinzburg8=function(){return r.geoProjection(Fn).scale(131.747)},n.geoGinzburg8Raw=Fn,n.geoGinzburg9=function(){return r.geoProjection(Nn).scale(131.087)},n.geoGinzburg9Raw=Nn,n.geoGringorten=function(){return r.geoProjection(Ln(qn)).scale(239.75)},n.geoGringortenRaw=qn,n.geoGuyou=function(){return r.geoProjection(Ln(In)).scale(151.496)},n.geoGuyouRaw=In,n.geoHammer=function(){var n=2,e=r.geoProjectionMutator(D),t=e(n);return t.coefficient=function(r){return arguments.length?e(n=+r):n},t.scale(169.529)},n.geoHammerRaw=D,n.geoHammerRetroazimuthal=function(){var n=0,e=r.geoProjectionMutator(Wn),t=e(n),o=t.rotate,i=t.stream,u=r.geoCircle();return t.parallel=function(r){if(!arguments.length)return n*A;var o=t.rotate();return e(n=r*S).rotate(o)},t.rotate=function(r){return arguments.length?(o.call(t,[r[0],r[1]-n*A]),u.center([-r[0],-r[1]]),t):((r=o.call(t))[1]+=n*A,r)},t.stream=function(n){return(n=i(n)).sphere=function(){n.polygonStart();var r,e=u.radius(89.99)().coordinates[0],t=e.length-1,o=-1;for(n.lineStart();++o<t;)n.point((r=e[o])[0],r[1]);for(n.lineEnd(),t=(e=u.radius(90.01)().coordinates[0]).length-1,n.lineStart();--o>=0;)n.point((r=e[o])[0],r[1]);n.lineEnd(),n.polygonEnd()},n},t.scale(79.4187).parallel(45).clipAngle(179.999)},n.geoHammerRetroazimuthalRaw=Wn,n.geoHealpix=function(){var n=4,t=r.geoProjectionMutator(Vn),o=t(n),i=o.stream;return o.lobes=function(r){return arguments.length?t(n=+r):n},o.stream=function(t){var u=o.rotate(),a=i(t),c=(o.rotate([0,0]),i(t));return o.rotate(u),a.sphere=function(){var t;r.geoStream((t=180/n,{type:"Polygon",coordinates:[e.range(-180,180+t/2,t).map(function(n,r){return[n,1&r?90-1e-6:Tn]}).concat(e.range(180,-180-t/2,-t).map(function(n,r){return[n,1&r?1e-6-90:-Tn]}))]}),c)},a},o.scale(239.75)},n.geoHealpixRaw=Vn,n.geoHill=function(){var n=1,e=r.geoProjectionMutator(_n),t=e(n);return t.ratio=function(r){return arguments.length?e(n=+r):n},t.scale(167.774).center([0,18.67])},n.geoHillRaw=_n,n.geoHomolosine=function(){return r.geoProjection(Jn).scale(152.63)},n.geoHomolosineRaw=Jn,n.geoHyperelliptical=function(){var n=0,e=2.5,t=1.183136,o=r.geoProjectionMutator(Yn),i=o(n,e,t);return i.alpha=function(r){return arguments.length?o(n=+r,e,t):n},i.k=function(r){return arguments.length?o(n,e=+r,t):e},i.gamma=function(r){return arguments.length?o(n,e,t=+r):t},i.scale(152.63)},n.geoHyperellipticalRaw=Yn,n.geoInterrupt=$n,n.geoInterruptedBoggs=function(){return $n(J,nr).scale(160.857)},n.geoInterruptedHomolosine=function(){return $n(Jn,rr).scale(152.63)},n.geoInterruptedMollweide=function(){return $n(K,er).scale(169.529)},n.geoInterruptedMollweideHemispheres=function(){return $n(K,tr).scale(169.529).rotate([20,0])},n.geoInterruptedSinuMollweide=function(){return $n(Un,or).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},n.geoInterruptedSinusoidal=function(){return $n(Y,ir).scale(152.63).rotate([-20,0])},n.geoKavrayskiy7=function(){return r.geoProjection(ur).scale(158.837)},n.geoKavrayskiy7Raw=ur,n.geoLagrange=function(){var n=.5,e=r.geoProjectionMutator(ar),t=e(n);return t.spacing=function(r){return arguments.length?e(n=+r):n},t.scale(124.75)},n.geoLagrangeRaw=ar,n.geoLarrivee=function(){return r.geoProjection(fr).scale(97.2672)},n.geoLarriveeRaw=fr,n.geoLaskowski=function(){return r.geoProjection(lr).scale(139.98)},n.geoLaskowskiRaw=lr,n.geoLittrow=function(){return r.geoProjection(gr).scale(144.049).clipAngle(89.999)},n.geoLittrowRaw=gr,n.geoLoximuthal=function(){return X(vr).parallel(40).scale(158.837)},n.geoLoximuthalRaw=vr,n.geoMiller=function(){return r.geoProjection(sr).scale(108.318)},n.geoMillerRaw=sr,n.geoModifiedStereographic=Pr,n.geoModifiedStereographicRaw=pr,n.geoModifiedStereographicAlaska=function(){return Pr(hr,[152,-64]).scale(1500).center([-160.908,62.4864]).clipAngle(25)},n.geoModifiedStereographicGs48=function(){return Pr(dr,[95,-38]).scale(1e3).clipAngle(55).center([-96.5563,38.8675])},n.geoModifiedStereographicGs50=function(){return Pr(yr,[120,-45]).scale(359.513).clipAngle(55).center([-117.474,53.0628])},n.geoModifiedStereographicMiller=function(){return Pr(wr,[-20,-18]).scale(209.091).center([20,16.7214]).clipAngle(82)},n.geoModifiedStereographicLee=function(){return Pr(mr,[165,10]).scale(250).clipAngle(130).center([-165,-10])},n.geoMollweide=function(){return r.geoProjection(K).scale(169.529)},n.geoMollweideRaw=K,n.geoMtFlatPolarParabolic=function(){return r.geoProjection(jr).scale(164.859)},n.geoMtFlatPolarParabolicRaw=jr,n.geoMtFlatPolarQuartic=function(){return r.geoProjection(Mr).scale(188.209)},n.geoMtFlatPolarQuarticRaw=Mr,n.geoMtFlatPolarSinusoidal=function(){return r.geoProjection(Er).scale(166.518)},n.geoMtFlatPolarSinusoidalRaw=Er,n.geoNaturalEarth=r.geoNaturalEarth1,n.geoNaturalEarthRaw=r.geoNaturalEarth1Raw,n.geoNaturalEarth2=function(){return r.geoProjection(Ar).scale(175.295)},n.geoNaturalEarth2Raw=Ar,n.geoNellHammer=function(){return r.geoProjection(Sr).scale(152.63)},n.geoNellHammerRaw=Sr,n.geoPatterson=function(){return r.geoProjection(Br).scale(139.319)},n.geoPattersonRaw=Br,n.geoPolyconic=function(){return r.geoProjection(Hr).scale(103.74)},n.geoPolyconicRaw=Hr,n.geoPolyhedral=Qr,n.geoPolyhedralButterfly=function(n){n=n||function(n){var e=r.geoCentroid({type:"MultiPoint",coordinates:n});return r.geoGnomonic().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=Or.map(function(r){return{face:r,project:n(r)}});return[-1,0,0,1,0,1,4,5].forEach(function(n,r){var t=e[n];t&&(t.children||(t.children=[])).push(e[r])}),Qr(e[0],function(n,r){return e[n<-m/2?r<0?6:4:n<0?r<0?2:0:n<m/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(101.858).center([0,45])},n.geoPolyhedralCollignon=function(n){n=n||function(n){var e=r.geoCentroid({type:"MultiPoint",coordinates:n});return r.geoProjection(Jr).translate([0,0]).scale(1).rotate(e[1]>0?[-e[0],0]:[180-e[0],180])};var e=Or.map(function(r){return{face:r,project:n(r)}});return[-1,0,0,1,0,1,4,5].forEach(function(n,r){var t=e[n];t&&(t.children||(t.children=[])).push(e[r])}),Qr(e[0],function(n,r){return e[n<-m/2?r<0?6:4:n<0?r<0?2:0:n<m/2?r<0?3:1:r<0?7:5]}).angle(-30).scale(121.906).center([0,48.5904])},n.geoPolyhedralWaterman=function(n){n=n||function(n){var e=6===n.length?r.geoCentroid({type:"MultiPoint",coordinates:n}):n[0];return r.geoGnomonic().scale(1).translate([0,0]).rotate([-e[0],-e[1]])};var e=Or.map(function(n){for(var r,e=n.map(Zr),t=e.length,o=e[t-1],i=[],u=0;u<t;++u)r=e[u],i.push(Yr([.9486832980505138*o[0]+.31622776601683794*r[0],.9486832980505138*o[1]+.31622776601683794*r[1],.9486832980505138*o[2]+.31622776601683794*r[2]]),Yr([.9486832980505138*r[0]+.31622776601683794*o[0],.9486832980505138*r[1]+.31622776601683794*o[1],.9486832980505138*r[2]+.31622776601683794*o[2]])),o=r;return i}),t=[],o=[-1,0,0,1,0,1,4,5];e.forEach(function(n,r){for(var i,u,a=Or[r],c=a.length,f=t[r]=[],l=0;l<c;++l)e.push([a[l],n[(2*l+2)%(2*c)],n[(2*l+1)%(2*c)]]),o.push(r),f.push((i=Zr(n[(2*l+2)%(2*c)]),u=Zr(n[(2*l+1)%(2*c)]),[i[1]*u[2]-i[2]*u[1],i[2]*u[0]-i[0]*u[2],i[0]*u[1]-i[1]*u[0]]))});var i=e.map(function(r){return{project:n(r),face:r}});return o.forEach(function(n,r){var e=i[n];e&&(e.children||(e.children=[])).push(i[r])}),Qr(i[0],function(n,r){var e=u(r),o=[e*u(n),e*h(n),h(r)],a=n<-m/2?r<0?6:4:n<0?r<0?2:0:n<m/2?r<0?3:1:r<0?7:5,c=t[a];return i[Xr(c[0],o)<0?8+3*a:Xr(c[1],o)<0?8+3*a+1:Xr(c[2],o)<0?8+3*a+2:a]}).angle(-30).scale(110.625).center([0,45])},n.geoProject=function(n,r){var e,t=r.stream;if(!t)throw new Error("invalid projection");switch(n&&n.type){case"Feature":e=re;break;case"FeatureCollection":e=ne;break;default:e=ee}return e(n,t)},n.geoGringortenQuincuncial=function(){return ce(qn).scale(176.423)},n.geoPeirceQuincuncial=fe,n.geoPierceQuincuncial=fe,n.geoQuantize=function(n,r){if(!(0<=(r=+r)&&r<=20))throw new Error("invalid digits");function e(n){var e=n.length,t=2,o=new Array(e);for(o[0]=+n[0].toFixed(r),o[1]=+n[1].toFixed(r);t<e;)o[t]=n[t],++t;return o}function t(n){return n.map(e)}function o(n){return n.map(t)}function i(n){if(null==n)return n;var r;switch(n.type){case"GeometryCollection":r={type:"GeometryCollection",geometries:n.geometries.map(i)};break;case"Point":r={type:"Point",coordinates:e(n.coordinates)};break;case"MultiPoint":case"LineString":r={type:n.type,coordinates:t(n.coordinates)};break;case"MultiLineString":case"Polygon":r={type:n.type,coordinates:o(n.coordinates)};break;case"MultiPolygon":r={type:"MultiPolygon",coordinates:n.coordinates.map(o)};break;default:return n}return null!=n.bbox&&(r.bbox=n.bbox),r}function u(n){var r={type:"Feature",properties:n.properties,geometry:i(n.geometry)};return null!=n.id&&(r.id=n.id),null!=n.bbox&&(r.bbox=n.bbox),r}if(null!=n)switch(n.type){case"Feature":return u(n);case"FeatureCollection":var a={type:"FeatureCollection",features:n.features.map(u)};return null!=n.bbox&&(a.bbox=n.bbox),a;default:return i(n)}return n},n.geoQuincuncial=ce,n.geoRectangularPolyconic=function(){return X(le).scale(131.215)},n.geoRectangularPolyconicRaw=le,n.geoRobinson=function(){return r.geoProjection(ve).scale(152.63)},n.geoRobinsonRaw=ve,n.geoSatellite=function(){var n=2,e=0,t=r.geoProjectionMutator(se),o=t(n,e);return o.distance=function(r){return arguments.length?t(n=+r,e):n},o.tilt=function(r){return arguments.length?t(n,e=r*S):e*A},o.scale(432.147).clipAngle(x(1/n)*A-1e-6)},n.geoSatelliteRaw=se,n.geoSinuMollweide=function(){return r.geoProjection(Un).rotate([-20,-55]).scale(164.263).center([0,-5.4036])},n.geoSinuMollweideRaw=Un,n.geoSinusoidal=function(){return r.geoProjection(Y).scale(152.63)},n.geoSinusoidalRaw=Y,n.geoStitch=function(n){if(null==n)return n;switch(n.type){case"Feature":return xe(n);case"FeatureCollection":var r={type:"FeatureCollection",features:n.features.map(xe)};return null!=n.bbox&&(r.bbox=n.bbox),r;default:return Ge(n)}},n.geoTimes=function(){return r.geoProjection(Ce).scale(146.153)},n.geoTimesRaw=Ce,n.geoTwoPointAzimuthal=Ne,n.geoTwoPointAzimuthalRaw=Fe,n.geoTwoPointAzimuthalUsa=function(){return Ne([-158,21.5],[-77,39]).clipAngle(60).scale(400)},n.geoTwoPointEquidistant=qe,n.geoTwoPointEquidistantRaw=Le,n.geoTwoPointEquidistantUsa=function(){return qe([-158,21.5],[-77,39]).clipAngle(130).scale(122.571)},n.geoVanDerGrinten=function(){return r.geoProjection(Be).scale(79.4183)},n.geoVanDerGrintenRaw=Be,n.geoVanDerGrinten2=function(){return r.geoProjection(He).scale(79.4183)},n.geoVanDerGrinten2Raw=He,n.geoVanDerGrinten3=function(){return r.geoProjection(Ie).scale(79.4183)},n.geoVanDerGrinten3Raw=Ie,n.geoVanDerGrinten4=function(){return r.geoProjection(We).scale(127.16)},n.geoVanDerGrinten4Raw=We,n.geoWagner4=function(){return r.geoProjection(Qe).scale(176.84)},n.geoWagner4Raw=Qe,n.geoWagner6=function(){return r.geoProjection(Ve).scale(152.63)},n.geoWagner6Raw=Ve,n.geoWagner7=function(){return r.geoProjection(_e).scale(172.632)},n.geoWagner7Raw=_e,n.geoWiechel=function(){return r.geoProjection(Ke).rotate([0,-90,45]).scale(124.75).clipAngle(179.999)},n.geoWiechelRaw=Ke,n.geoWinkel3=function(){return r.geoProjection(Oe).scale(158.837)},n.geoWinkel3Raw=Oe,Object.defineProperty(n,"__esModule",{value:!0})});